use v6.d;

use Test;

use Amazon::AWS::EC2::Tests::TestTemplate;

unit package Amazon::AWS::EC2::Tests::DescribePrincipalIdFormat;

# Must learn more about the specifics of this end-point, since specifying ANY
# Resource value (especially the ones listed) will provide a NIL result set!
#
# Test is currently off.

our sub runTests {
  
  subtest 'Testing with various resources' => sub {
    my @resources = $action.getResources;
    my @base = 1...5;
    
    plan @base.elems * (actionResponseTests + 1);
    
    for @base {
      my $num = @base.pick;
      my $ro = runTestCore(
        $?PACKAGE,
        fixup => -> $o { 
          #$o.Resources = @resources.pick xx $num;
          $o.Resources = <arn vpc image>;
        },
        :!plan
      );
      
      ok 
        $ro.principals.elems == $num, 
        'Number of principal elements returned equals number given';
    }
  }
}
